!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([,,,,,function(e,t,r){r(6),r(7)},function(e,t){jQuery(document).ready((function(){jQuery("#wf_move_thread_button").click((function(){if(jQuery("#wf_move_thread_button").hasClass("confirm")){var e=jQuery("#move_thread_forum").val();if(!e)return alert("Error: subforum id is empty"),!1;jQuery.ajax({type:"POST",url:storeJs.routes.workingforum_move_thread,crossDomain:!1,data:"threadId=".concat(storeJs.threadId,"&target=").concat(e),dataType:"json",async:!1,success:function(e){if("true"!==e.res)return alert("An error occured"),!1;alert(storeJs.trans["forum.move_thread_success"]),jQuery("#wf_move_thread_button").addClass("wf_button-grey").html("".concat(storeJs.trans["forum.thread_was_moved_to"]," ").concat(e.targetLabel)),jQuery("#move_thread_forum").hide()}})}else jQuery("#move_thread_forum").show(),jQuery("#wf_move_thread_button").html(storeJs.trans["forum.confirm_move_thread"]),jQuery("#wf_move_thread_button").addClass("confirm")})),quote=function(e){jQuery(".wf_textarea_post").val("".concat(jQuery(".wf_textarea_post").val(),"[quote=").concat(e,"]")),jQuery(".wf_textarea_post").focus()},report=function(e){if(!confirm(storeJs.trans["forum.confirm_report"]))return!1;jQuery.ajax({type:"GET",url:e,crossDomain:!1,dataType:"json",async:!1,success:function(e){"true"===e?alert(storeJs.trans["forum.thanks_reporting"]):alert(storeJs.trans["message.error.something_wrong"])}})},moderate=function(e){var t=prompt(storeJs.trans["admin.report.why"]);if(null!=t&&""!=t.trim())jQuery.ajax({type:"POST",url:storeJs.routes.workingforum_admin_report_action_moderate,crossDomain:!1,data:"reason=".concat(t,"&postId=").concat(e),dataType:"json",async:!1,success:function(r){if("ok"===r){var o='<p class="wf_moderate">'.concat(storeJs.trans["forum.post_moderated"]," ").concat(t,"</p>");jQuery("#wf_post\\["+e+"\\] .wf_post_content").html(o)}}});else if(null!=t)return void alert(storeJs.trans["admin.report.invalid_reason"])},voteUp=function(e,t){jQuery.ajax({type:"POST",url:storeJs.routes.workingforum_vote_up,crossDomain:!1,data:"postId=".concat(e),dataType:"json",async:!1,success:function(r){if("true"===r.res){var o=jQuery(t).html();jQuery(t).remove(),jQuery("#voteUpLabel_".concat(e)).html("".concat(o," + ").concat(r.voteUp))}else alert("Sorry an error occured : ".concat(r.errMsg))}})},showEnclosed=function(e,t){jQuery("#wf_enclosed_files_".concat(t)).slideDown(),jQuery(e).remove()},addSubscription=function(){jQuery.ajax({type:"GET",url:storeJs.routes.workingforum_add_subscription,crossDomain:!1,dataType:"json",async:!1,success:function(){jQuery("#wf_add_subscription").html(storeJs.trans["forum.already_subscribed"]).addClass("wf_button-grey")},error:function(){alert(storeJs.trans["message.generic_error"])}})},cancelSubscription=function(){jQuery.ajax({type:"GET",url:storeJs.routes.workingforum_cancel_subscription,crossDomain:!1,dataType:"json",async:!1,success:function(){jQuery("#cancel_subscription").html(storeJs.trans["message.subscription_cancelled"])},error:function(){alert(storeJs.trans["message.generic_error"])}})}}))},function(e,t){jQuery.fn.extend({insertAtCaret:function(e){return this.each((function(t){if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=e,this.focus();else if(this.selectionStart||"0"==this.selectionStart){var r=this.selectionStart,o=this.selectionEnd,n=this.scrollTop;this.value=this.value.substring(0,r)+e+this.value.substring(o,this.value.length),this.focus(),this.selectionStart=r+e.length,this.selectionEnd=r+e.length,this.scrollTop=n}else this.value+=e,this.focus()}))}})}]);